/*
 * ============================================================
 *  AnswerMe — 全局主题 (唯一全局样式入口)
 * ============================================================
 */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ─────────────────────────────────────────────
   设计令牌 — 保留用于 CSS 变量和 @apply 指令
   ───────────────────────────────────────────── */
:root {
  /* 主色调 - 鲜明的蓝色 */
  --color-primary: #3B82F6;
  --color-primary-hover: #2563EB;
  --color-primary-light: rgba(59, 130, 246, 0.1);

  /* 辅助色 - 清新的青色 */
  --color-secondary: #06B6D4;
  --color-secondary-hover: #0891B2;

  /* 强调色 - 温暖的橙色 */
  --color-accent: #F97316;
  --color-accent-hover: #EA580C;

  /* 背景色 - 纯净的亮白 */
  --color-bg: #FFFFFF;
  --color-bg-secondary: #F9FAFB;
  --color-bg-tertiary: #F3F4F6;
  --color-white: #FFFFFF;

  /* 文字颜色 */
  --color-text-primary: #1F2937;
  --color-text-secondary: #6B7280;
  --color-text-muted: #9CA3AF;
  --color-text-light: #D1D5DB;

  /* 边框颜色 */
  --color-border: #E5E7EB;
  --color-border-light: #D1D5DB;

  /* 功能色 - 鲜明饱满 */
  --color-success: #10B981;
  --color-warning: #F59E0B;
  --color-danger: #DC2626; /* 更深的红色，提升文字对比度 */
  --color-danger-text: #FFFFFF; /* 危险按钮文字色 */
  --color-info: #3B82F6;

  /* 大圆角系统 */
  --radius-sm: 8px;
  --radius-md: 16px;
  --radius-lg: 20px;
  --radius-xl: 24px;
  --radius-full: 9999px;

  /* 柔和弥散阴影系统 */
  --shadow-xs: 0 1px 3px rgba(0, 0, 0, 0.06);
  --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.08);
  --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 8px 30px rgba(0, 0, 0, 0.12);
  --shadow-xl: 0 16px 48px rgba(0, 0, 0, 0.15);

  /* 流畅的缓动动画 */
  --transition-fast: 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  --transition-normal: 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: 0.6s cubic-bezier(0.4, 0, 0.2, 1);

  /* Tailwind 兼容的过渡变量 */
  --transition-duration-400: 0.4s;
  --transition-duration-600: 0.6s;
  --transition-timing-smooth: cubic-bezier(0.4, 0, 0.2, 1);

  /* 间距 */
  --spacing-xs: 0.25rem;
  --spacing-sm: 0.5rem;
  --spacing-md: 0.75rem;
  --spacing-lg: 1rem;
  --spacing-xl: 1.5rem;
  --spacing-2xl: 2rem;

  /* Element Plus 语义变量映射（亮色） */
  --el-bg-color: var(--color-bg);
  --el-bg-color-page: var(--color-bg-secondary);
  --el-bg-color-overlay: var(--color-white);
  --el-text-color-primary: var(--color-text-primary);
  --el-text-color-regular: var(--color-text-secondary);
  --el-text-color-secondary: var(--color-text-muted);
  --el-border-color: var(--color-border);
  --el-border-color-light: var(--color-border-light);
  --el-fill-color: var(--color-bg-secondary);
  --el-fill-color-light: #f5f7fa;
  --el-fill-color-lighter: #fafafa;
  --el-mask-color: rgba(15, 23, 42, 0.6);
}

/* 深色模式 */
.dark {
  --color-bg: #111827;
  --color-bg-secondary: #1F2937;
  --color-bg-tertiary: #374151;
  --color-white: #1F2937;

  --color-text-primary: #F9FAFB;
  --color-text-secondary: #D1D5DB;
  --color-text-muted: #9CA3AF;
  --color-text-light: #6B7280;

  --color-border: #374151;
  --color-border-light: #4B5563;

  --color-primary: #60A5FA;
  --color-primary-hover: #3B82F6;
  --color-primary-light: rgba(96, 165, 250, 0.15);

  /* Element Plus 语义变量映射（深色） */
  --el-bg-color: var(--color-bg);
  --el-bg-color-page: #0f172a;
  --el-bg-color-overlay: #111e34;
  --el-text-color-primary: var(--color-text-primary);
  --el-text-color-regular: var(--color-text-secondary);
  --el-text-color-secondary: var(--color-text-muted);
  --el-border-color: var(--color-border);
  --el-border-color-light: var(--color-border-light);
  --el-fill-color: #1a2943;
  --el-fill-color-light: #1f3150;
  --el-fill-color-lighter: #243858;
  --el-mask-color: rgba(2, 6, 23, 0.75);
}

/* ─────────────────────────────────────────────
   基础排版 (Tailwind Preflight 处理 Reset，这里保留字体)
   ───────────────────────────────────────────── */
html {
  font-size: 14px;
  -webkit-text-size-adjust: 100%;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  font-family:
    'Inter',
    -apple-system, BlinkMacSystemFont,
    'Segoe UI', Roboto,
    'Helvetica Neue', Arial,
    'Noto Sans', sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
}

html,
body,
#app {
  height: 100%;
  width: 100%;
}

/* ─────────────────────────────────────────────
   5. 滚动条
   ───────────────────────────────────────────── */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-thumb {
  background: #D0D0D0;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #B0B0B0;
}

::-webkit-scrollbar-track {
  background: transparent;
}

.dark ::-webkit-scrollbar-thumb {
  background: #3D4350;
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: #4B5563;
}

/* Firefox */
* {
  scrollbar-width: thin;
  scrollbar-color: #D0D0D0 transparent;
}

.dark * {
  scrollbar-color: #3D4350 transparent;
}

/* ─────────────────────────────────────────────
   页面容器 — 用于 AppLayout 内的内容页
   ───────────────────────────────────────────── */
.page-container {
  @apply max-w-[1400px] mx-auto p-8;
}

/* ─────────────────────────────────────────────
   Element Plus 覆写
   ───────────────────────────────────────────── */

/* 卡片 */
.el-card {
  background-color: var(--color-white) !important;
  border-radius: var(--radius-lg) !important;
  border-color: var(--color-border) !important;
  box-shadow: var(--shadow-sm) !important;
  transition: all var(--transition-normal) !important;
}

.el-card__body {
  background-color: var(--color-white) !important;
}

.el-card__header {
  background-color: var(--color-white) !important;
  border-bottom-color: var(--color-border) !important;
}

.el-card:hover {
  box-shadow: var(--shadow-md) !important;
}

/* 表格 */
.el-table {
  --el-table-border-color: var(--color-border);
  --el-table-bg-color: var(--color-white);
  --el-table-header-bg-color: var(--color-bg-secondary);
  --el-table-header-text-color: var(--color-text-primary);
  --el-table-text-color: var(--color-text-primary);
  --el-table-row-hover-bg-color: var(--color-bg-secondary);
  --el-table-current-row-bg-color: var(--color-bg-secondary);
  --el-table-tr-bg-color: var(--color-white);
  --el-table-fixed-box-shadow: 0 0 0 1px var(--color-border);
}

.el-table__inner-wrapper::before {
  background-color: var(--color-border) !important;
}

/* 输入框 */
.el-input__wrapper {
  border-radius: var(--radius-md) !important;
  transition: all var(--transition-normal) !important;
  background-color: var(--color-white) !important;
  box-shadow: 0 0 0 1px var(--color-border) inset !important;
}

.el-input__wrapper:hover {
  border-color: var(--color-border-light) !important;
}

.el-input__wrapper.is-focus {
  border-color: var(--color-primary) !important;
  box-shadow: 0 0 0 3px var(--color-primary-light) !important;
}

/* 按钮 */
.el-button {
  border-radius: var(--radius-md) !important;
  font-weight: 500;
  transition: all var(--transition-normal) !important;
  box-shadow: var(--shadow-xs) !important;
}

.el-button:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-sm) !important;
}

.el-button:active {
  transform: translateY(0);
  box-shadow: none !important;
}

.el-button--primary {
  background: var(--color-primary) !important;
  border-color: var(--color-primary) !important;
}

.el-button--primary:hover {
  background: var(--color-primary-hover) !important;
  border-color: var(--color-primary-hover) !important;
}

.el-button--success {
  background: var(--color-success) !important;
  border-color: var(--color-success) !important;
}

.el-button--warning {
  background: var(--color-warning) !important;
  border-color: var(--color-warning) !important;
}

.el-button--danger {
  background: var(--color-danger) !important;
  border-color: var(--color-danger) !important;
  color: var(--color-danger-text) !important;
  font-weight: 600 !important; /* 加粗字体提升可读性 */
}

.el-button--danger:hover {
  background: #B91C1C !important; /* 更深的悬停色 */
  border-color: #B91C1C !important;
}

.el-button--info {
  background: var(--color-info) !important;
  border-color: var(--color-info) !important;
}

/* 下拉框 */
.el-select .el-input__wrapper {
  border-radius: var(--radius-md) !important;
}

/* 标签 */
.el-tag {
  border-radius: var(--radius-sm) !important;
  font-weight: 500;
}

/* 对话框 */
.el-dialog {
  border-radius: var(--radius-xl) !important;
}

/* ─────────────────────────────────────────────
   8. 全局过渡动画
   ───────────────────────────────────────────── */
.fade-enter-active,
.fade-leave-active {
  transition: opacity var(--transition-normal);
}

.fade-enter-from,
.fade-leave-to {
  opacity: 0;
}
